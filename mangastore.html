<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manga Collection</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    .form-container {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #fff;
      padding: 20px;
      border: 1px solid #ccc;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      z-index: 1000;
    }
    .form-container h3 {
      margin-top: 0;
    }
    .form-container button {
      margin-top: 10px;
    }
    #payment-form-container {
      display: none; /* Hidden by default */
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="header-content left">
        <a href="#" class="text-sm hover:text-primary-foreground/80 transition-colors">Home</a>
        <a href="#" class="text-sm hover:text-primary-foreground/80 transition-colors">Manga</a>
        <a href="#" class="text-sm hover:text-primary-foreground/80 transition-colors">About</a>
        <a href="#" class="text-sm hover:text-primary-foreground/80 transition-colors">Contact</a>
      </div>
      <div class="header-content center">
        <h1 class="site-title">Manga Collection</h1>
      </div>
      <div class="header-content right">
        <span id="username-display"></span>
        <a href="#" id="cart-link" class="text-sm hover:text-primary-foreground/80 transition-colors">Cart (0)</a>
        <a href="#" id="login-link" class="text-sm hover:text-primary-foreground/80 transition-colors">Login</a>
        <a href="#" id="signup-link" class="text-sm hover:text-primary-foreground/80 transition-colors">Sign Up</a>
        <a href="#" id="logout-link" class="text-sm hover:text-primary-foreground/80 transition-colors" style="display: none;">Logout</a>
      </div>
    </header>

    <!-- Login Form -->
    <div id="login-form-container" class="form-container" style="display: none;">
      <form id="login-form">
        <h3>Login</h3>
        <input type="text" id="login-username" placeholder="Username" required>
        <input type="password" id="login-password" placeholder="Password" required>
        <button type="submit">Login</button>
        <button type="button" id="close-login-form">Close</button>
      </form>
    </div>

    <!-- Signup Form -->
    <div id="signup-form-container" class="form-container" style="display: none;">
      <form id="signup-form">
        <h3>Sign Up</h3>
        <input type="text" id="signup-username" placeholder="Username" required>
        <input type="password" id="signup-password" placeholder="Password" required>
        <button type="submit">Sign Up</button>
        <button type="button" id="close-signup-form">Close</button>
      </form>
    </div>

    <!-- Payment Form -->
    <div id="payment-form-container" class="form-container">
      <form id="payment-form">
        <h3>Payment Information</h3>
        <input type="text" id="name" placeholder="Full Name" required>
        <input type="text" id="address" placeholder="Address" required>
        <input type="text" id="phone" placeholder="Phone Number" required>
        <input type="text" id="card-number" placeholder="Card Number" required>
        <input type="text" id="card-expiry" placeholder="Expiry Date (MM/YY)" required>
        <input type="text" id="card-cvc" placeholder="CVC" required>
        <button type="submit">Pay Now</button>
        <button type="button" id="close-payment-form">Close</button>
      </form>
    </div>

    <h1 class="action">Action</h1>
    <main class="main-content">
      <div class="content-wrapper">
        <div class="manga-grid">
          <!-- Manga Items -->
          <!-- Example Manga Item -->
          <div class="manga-item">
            <div class="image-container">
              <img src="demonslayer1.jpg" alt="Manga Cover" class="manga-cover">
              <img src="demonslayer.jpg" alt="Manga Cover Hover" class="manga-cover-hover">
            </div>
            <div class="manga-details">
              <h3 class="manga-title">demonslayer</h3>
              <p class="manga-author">by Hajime Isayama</p>
              <div class="manga-actions">
                <span class="manga-price">$9.99</span>
                <button class="add-to-cart-btn">Add to Cart</button>
              </div>
            </div>
          </div>
          <div class="manga-item">
            <div class="image-container">
              <img src="naruto.jpg" alt="Manga Cover" class="manga-cover">
              <img src="naruto1.jpg" alt="Manga Cover Hover" class="manga-cover-hover">
            </div>
            <div class="manga-details">
              <h3 class="manga-title">naruto</h3>
              <p class="manga-author">by Hajime Isayama</p>
              <div class="manga-actions">
                <span class="manga-price">$9.99</span>
                <button class="add-to-cart-btn">Add to Cart</button>
              </div>
            </div>
          </div>
          <div class="manga-item">
            <div class="image-container">
              <img src="onepiece.jpg" alt="Manga Cover" class="manga-cover">
              <img src="onepiece1.jpg" alt="Manga Cover Hover" class="manga-cover-hover">
            </div>
            <div class="manga-details">
              <h3 class="manga-title">onepiece</h3>
              <p class="manga-author">by Hajime Isayama</p>
              <div class="manga-actions">
                <span class="manga-price">$9.99</span>
                <button class="add-to-cart-btn">Add to Cart</button>
              </div>
            </div>
          </div>
          <div class="manga-item">
            <div class="image-container">
              <img src="jujusthukaisan.jpg" alt="Manga Cover" class="manga-cover">
              <img src="Jujutsu_kaisen1.jpg" alt="Manga Cover Hover" class="manga-cover-hover">
            </div>
            <div class="manga-details">
              <h3 class="manga-title">jujusthukaisan</h3>
              <p class="manga-author">by Hajime Isayama</p>
              <div class="manga-actions">
                <span class="manga-price">$9.99</span>
                <button class="add-to-cart-btn">Add to Cart</button>
              </div>
            </div>
          </div>
          <div class="manga-item">
            <div class="image-container">
              <img src="7deadlysins.jpg" alt="Manga Cover" class="manga-cover">
              <img src="7deadlysins1.jpg" alt="Manga Cover Hover" class="manga-cover-hover">
            </div>
            <div class="manga-details">
              <h3 class="manga-title">7deadlysins</h3>
              <p class="manga-author">by Hajime Isayama</p>
              <div class="manga-actions">
                <span class="manga-price">$9.99</span>
                <button class="add-to-cart-btn">Add to Cart</button>
              </div>
            </div>
          </div>
          <div class="manga-item">
            <div class="image-container">
              <img src="bleach.jpg" alt="Manga Cover" class="manga-cover">
              <img src="bleach1.jpg" alt="Manga Cover Hover" class="manga-cover-hover">
            </div>
            <div class="manga-details">
              <h3 class="manga-title">bleach</h3>
              <p class="manga-author">by Hajime Isayama</p>
              <div class="manga-actions">
                <span class="manga-price">$9.99</span>
                <button class="add-to-cart-btn">Add to Cart</button>
              </div>
            </div>
          </div>
          <!-- Repeat for other manga items -->
        </div>
        <h1 class="action">Action</h1>
    <main class="main-content">
      <div class="content-wrapper">
        <div class="manga-grid">
          <!-- Manga Items -->
          <!-- Example Manga Item -->
          <div class="manga-item">
            <div class="image-container">
              <img src="blackclover.jpg" alt="Manga Cover" class="manga-cover">
              <img src="blackclover1.jpg" alt="Manga Cover Hover" class="manga-cover-hover">
            </div>
            <div class="manga-details">
              <h3 class="manga-title">blackclover</h3>
              <p class="manga-author">by Hajime Isayama</p>
              <div class="manga-actions">
                <span class="manga-price">$9.99</span>
                <button class="add-to-cart-btn">Add to Cart</button>
              </div>
            </div>
          </div>
          <div class="manga-item">
            <div class="image-container">
              <img src="hunter hunter.jpg" alt="Manga Cover" class="manga-cover">
              <img src="hunter hunter1.jpg" alt="Manga Cover Hover" class="manga-cover-hover">
            </div>
            <div class="manga-details">
              <h3 class="manga-title">hunter * hunter</h3>
              <p class="manga-author">by Hajime Isayama</p>
              <div class="manga-actions">
                <span class="manga-price">$9.99</span>
                <button class="add-to-cart-btn">Add to Cart</button>
              </div>
            </div>
          </div>
          <div class="manga-item">
            <div class="image-container">
              <img src="godofhighschool.jpg" alt="Manga Cover" class="manga-cover">
              <img src="godofhighschool1.jpg" alt="Manga Cover Hover" class="manga-cover-hover">
            </div>
            <div class="manga-details">
              <h3 class="manga-title">godofhighschool</h3>
              <p class="manga-author">by Hajime Isayama</p>
              <div class="manga-actions">
                <span class="manga-price">$9.99</span>
                <button class="add-to-cart-btn">Add to Cart</button>
              </div>
            </div>
          </div>
          <div class="manga-item">
            <div class="image-container">
              <img src="naruto.jpg" alt="Manga Cover" class="manga-cover">
              <img src="demonslayer.jpg" alt="Manga Cover Hover" class="manga-cover-hover">
            </div>
            <div class="manga-details">
              <h3 class="manga-title">demonslayer</h3>
              <p class="manga-author">by Hajime Isayama</p>
              <div class="manga-actions">
                <span class="manga-price">$9.99</span>
                <button class="add-to-cart-btn">Add to Cart</button>
              </div>
            </div>
          </div>
          <div class="manga-item">
            <div class="image-container">
              <img src="naruto.jpg" alt="Manga Cover" class="manga-cover">
              <img src="demonslayer.jpg" alt="Manga Cover Hover" class="manga-cover-hover">
            </div>
            <div class="manga-details">
              <h3 class="manga-title">demonslayer</h3>
              <p class="manga-author">by Hajime Isayama</p>
              <div class="manga-actions">
                <span class="manga-price">$9.99</span>
                <button class="add-to-cart-btn">Add to Cart</button>
              </div>
            </div>
          </div>
          <div class="manga-item">
            <div class="image-container">
              <img src="naruto.jpg" alt="Manga Cover" class="manga-cover">
              <img src="demonslayer.jpg" alt="Manga Cover Hover" class="manga-cover-hover">
            </div>
            <div class="manga-details">
              <h3 class="manga-title">demonslayer</h3>
              <p class="manga-author">by Hajime Isayama</p>
              <div class="manga-actions">
                <span class="manga-price">$9.99</span>
                <button class="add-to-cart-btn">Add to Cart</button>
              </div>
            </div>
          </div>
          <!-- Repeat for other manga items -->
        </div>
        <div id="cart" class="cart" style="display: none;">
          <h2 class="cart-title">Your Cart</h2>
          <div class="cart-items">
            <!-- Cart Item -->
            <div class="cart-item">
              <img src="demonslayer.jpg" alt="Manga Cover" class="cart-item-cover">
              <div class="cart-item-details">
                <h3 class="cart-item-title">Attack on Titan</h3>
                <p class="cart-item-price">$9.99</p>
              </div>
              <button class="remove-from-cart-btn" data-index="0">Remove</button>
            </div>
            <!-- Repeat for other cart items -->
          </div>
          <div class="cart-summary">
            <span class="total-label">Total:</span>
            <span class="total-price">$37.97</span>
            <button class="checkout-btn">Checkout</button>
          </div>
        </div>
      </div>
    </main>
    <footer class="footer">
      <p class="footer-text">&copy; 2024 Manga Store. All rights reserved.</p>
    </footer>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      const users = JSON.parse(localStorage.getItem('users')) || [];
      const cartLink = document.getElementById('cart-link');
      const loginLink = document.getElementById('login-link');
      const signupLink = document.getElementById('signup-link');
      const logoutLink = document.getElementById('logout-link');
      const loginFormContainer = document.getElementById('login-form-container');
      const signupFormContainer = document.getElementById('signup-form-container');
      const paymentFormContainer = document.getElementById('payment-form-container');
      const closeLoginForm = document.getElementById('close-login-form');
      const closeSignupForm = document.getElementById('close-signup-form');
      const closePaymentForm = document.getElementById('close-payment-form');
      const addToCartButtons = document.querySelectorAll('.add-to-cart-btn');
      const cartContainer = document.getElementById('cart');
      const usernameDisplay = document.getElementById('username-display');

      function updateCartDisplay() {
        const cartItems = document.querySelector('.cart-items');
        cartItems.innerHTML = ''; // Clear existing items
        let totalPrice = 0;
        cart.forEach((item, index) => {
          const itemElement = document.createElement('div');
          itemElement.classList.add('cart-item');
          itemElement.innerHTML = `
            <img src="${item.image}" alt="Manga Cover" class="cart-item-cover">
            <div class="cart-item-details">
              <h3 class="cart-item-title">${item.title}</h3>
              <p class="cart-item-price">$${item.price}</p>
            </div>
            <button class="remove-from-cart-btn" data-index="${index}">Remove</button>
          `;
          cartItems.appendChild(itemElement);
          totalPrice += parseFloat(item.price);
        });
        document.querySelector('.total-price').textContent = `$${totalPrice.toFixed(2)}`;
        cartLink.textContent = `Cart (${cart.length})`;
      }

      function addToCart(item) {
        cart.push(item);
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartDisplay();
      }

      function removeFromCart(index) {
        cart.splice(index, 1);
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartDisplay();
      }

      function showCart() {
        cartContainer.style.display = 'block';
      }

      function hideCart() {
        cartContainer.style.display = 'none';
      }

      function updateHeader(username) {
        if (username) {
          cartLink.textContent = `Cart (${cart.length})`;
          usernameDisplay.textContent = `Welcome, ${username}`;
          loginLink.style.display = 'none';
          signupLink.style.display = 'none';
          logoutLink.style.display = 'inline';
        } else {
          usernameDisplay.textContent = '';
          loginLink.style.display = 'inline';
          signupLink.style.display = 'inline';
          logoutLink.style.display = 'none';
        }
      }

      cartLink.addEventListener('click', (event) => {
        event.preventDefault();
        showCart();
      });

      loginLink.addEventListener('click', (event) => {
        event.preventDefault();
        loginFormContainer.style.display = 'block';
        signupFormContainer.style.display = 'none';
      });

      signupLink.addEventListener('click', (event) => {
        event.preventDefault();
        signupFormContainer.style.display = 'block';
        loginFormContainer.style.display = 'none';
      });

      closeLoginForm.addEventListener('click', () => {
        loginFormContainer.style.display = 'none';
      });

      closeSignupForm.addEventListener('click', () => {
        signupFormContainer.style.display = 'none';
      });

      closePaymentForm.addEventListener('click', () => {
        paymentFormContainer.style.display = 'none';
      });

      document.getElementById('login-form').addEventListener('submit', (event) => {
        event.preventDefault();
        const username = document.getElementById('login-username').value;
        const password = document.getElementById('login-password').value;

        const user = users.find(user => user.username === username && user.password === password);
        if (user) {
          alert('Logged in successfully!');
          localStorage.setItem('loggedInUser', username);
          updateHeader(username);
          loginFormContainer.style.display = 'none';
          showCart();
        } else {
          alert('Login failed!');
        }
      });

      document.getElementById('signup-form').addEventListener('submit', (event) => {
        event.preventDefault();
        const username = document.getElementById('signup-username').value;
        const password = document.getElementById('signup-password').value;

        if (users.find(user => user.username === username)) {
          alert('Username already taken!');
        } else {
          users.push({ username, password });
          localStorage.setItem('users', JSON.stringify(users));
          alert('Signed up successfully!');
          signupFormContainer.style.display = 'none';
        }
      });

      addToCartButtons.forEach((button) => {
        button.addEventListener('click', () => {
          const item = {
            image: button.closest('.manga-item').querySelector('.manga-cover').src,
            title: button.closest('.manga-item').querySelector('.manga-title').textContent,
            price: button.closest('.manga-item').querySelector('.manga-price').textContent.replace('$', ''),
          };
          addToCart(item);
        });
      });

      document.addEventListener('click', (event) => {
        if (event.target.classList.contains('remove-from-cart-btn')) {
          const index = event.target.dataset.index;
          removeFromCart(index);
        }
      });

      logoutLink.addEventListener('click', (event) => {
        event.preventDefault();
        localStorage.removeItem('loggedInUser');
        updateHeader(null);
        hideCart();
        alert('Logged out successfully!');
      });

      document.querySelector('.checkout-btn').addEventListener('click', () => {
        paymentFormContainer.style.display = 'block';
      });

      document.getElementById('payment-form').addEventListener('submit', (event) => {
        event.preventDefault();
        const name = document.getElementById('name').value;
        const address = document.getElementById('address').value;
        const phone = document.getElementById('phone').value;
        const cardNumber = document.getElementById('card-number').value;
        const cardExpiry = document.getElementById('card-expiry').value;
        const cardCvc = document.getElementById('card-cvc').value;

        // Here you would handle payment processing with a payment API
        alert('Payment processed successfully!');
        cart.length = 0; // Empty cart after payment
        localStorage.removeItem('cart');
        updateCartDisplay();
        paymentFormContainer.style.display = 'none';
      });

      const loggedInUser = localStorage.getItem('loggedInUser');
      updateHeader(loggedInUser);

      updateCartDisplay();
    });
  </script>
</body>
</html>
